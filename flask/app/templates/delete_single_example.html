{% extends "base.html" %}
{% block title %}DELETE文の実行例(単数条件){% endblock %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/learning.css') }}">
{% endblock %}
{% block content %}

<div class="nav-buttons">
    <a href="/basic/delete/single/study" class="prev">◀ 前へ</a>
    <a href="/basic/delete/single/practice" class="next">次へ ▶</a>
</div>

<div class="learning-container">
    <h1>DELETE文（単数条件）実行例</h1>

    <section>
        <h2>対象テーブル：products</h2>
        <p>次のような <code>products</code> テーブルがあります。</p>

        <table class="example-table">
            <thead>
                <tr><th>product_id</th><th>product_name</th><th>price</th></tr>
            </thead>
            <tbody>
                <tr><td>1</td><td>ペン</td><td>100</td></tr>
                <tr><td>2</td><td>ノート</td><td>200</td></tr>
                <tr><td>3</td><td>消しゴム</td><td>100</td></tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>実行例①：価格が100円の商品を削除</h2>
        <div class="code-block"><code>DELETE FROM products<br>WHERE price = 100;</code></div>
        <p><strong>実行結果：</strong> 「ペン」と「消しゴム」が削除されます。</p>
        <table class="example-table">
            <thead>
                <tr><th>product_id</th><th>product_name</th><th>price</th></tr>
            </thead>
            <tbody>
                <tr><td>2</td><td>ノート</td><td>200</td></tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>実行例②：product_idが2の商品のみを削除</h2>
        <div class="code-block"><code>DELETE FROM products<br>WHERE product_id = 2;</code></div>
        <p><strong>実行結果：</strong>「ノート」が削除されます。</p>
        <table class="example-table">
            <thead>
                <tr><th>product_id</th><th>product_name</th><th>price</th></tr>
            </thead>
            <tbody>
                <tr><td>1</td><td>ペン</td><td>100</td></tr>
                <tr><td>3</td><td>消しゴム</td><td>100</td></tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>よくあるエラーと注意点</h2>

        <div class="alert-error">
            <strong>❌ WHERE を忘れる</strong>
            <div class="code-block"><code>DELETE FROM products;</code></div>
            <p>→ テーブル内の全行が削除されてしまいます！</p>
        </div>

        <div class="alert-warning">
            <strong>⚠ 条件に一致する行がない</strong>
            <div class="code-block"><code>DELETE FROM products<br>WHERE product_name = 'はさみ';</code></div>
            <p>→ 実行されても削除対象がないため、何も起きません。</p>
        </div>

        <div class="alert-warning">
            <strong>⚠ 文字列の指定ミス</strong>
            <div class="code-block"><code>DELETE FROM products<br>WHERE product_name = はさみ;</code></div>
            <p>→ エラーになります（文字列はシングルクォートで囲む必要あり）</p>
        </div>

        <div class="alert-error">
            <strong>❌ 主キーの指定ミス</strong>
            <div class="code-block"><code>DELETE FROM products<br>WHERE id = 3;</code></div>
            <p>→ カラム名を間違えると <code>Unknown column 'id'</code> のようなエラーが出ます。</p>
        </div>
    </section>

    <section>
        <h2>補足：削除前の確認方法</h2>
        <p>削除前に対象データを確認するには、<code>SELECT</code>文を使いましょう。</p>
        <div class="code-block"><code>SELECT * FROM products<br>WHERE price = 100;</code></div>
    </section>
</div>

<div class="nav-buttons">
    <a href="/basic/delete/single/study" class="prev">◀ 前へ</a>
    <a href="/basic/delete/single/practice" class="next">次へ ▶</a>
</div>

{% endblock %}
