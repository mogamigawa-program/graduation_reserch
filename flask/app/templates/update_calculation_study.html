{% extends "base.html" %}
{% block title %}UPDATEæ–‡ Ã— è¨ˆç®—ã®å­¦ç¿’ãƒšãƒ¼ã‚¸{% endblock %}
{% block content %}

<div class="container">
    <div class="nav-buttons">
        <a href="/basic/update/all-records/example" class="prev">â—€ å‰ã¸</a>
        <a href="/basic/update/calc/example" class="next">æ¬¡ã¸ â–¶</a>
    </div>

    <h1>UPDATEæ–‡ Ã— è¨ˆç®—ã®ä½“é¨“</h1>

    <p><strong>UPDATEæ–‡ã§ã¯ã€æ•°å€¤ã‚«ãƒ©ãƒ ã«å¯¾ã—ã¦è¨ˆç®—ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚</strong></p>

    <div class="tips">
        <h2>ğŸ’¡ ã‚ˆãä½¿ã‚ã‚Œã‚‹æ›¸ãæ–¹</h2>
        <ul>
            <li><code>UPDATE products SET stock = stock - 10 WHERE product_id = 1;</code></li>
            <li><code>UPDATE products SET price = price * 1.1;</code></li>
            <li><code>UPDATE products SET stock = stock + 5 WHERE stock &lt; 10;</code></li>
        </ul>
    </div>

    <h2>expensesãƒ†ãƒ¼ãƒ–ãƒ«</h2>
    <table class="table-bordered">
        <thead>
            <tr class="table-header">
                {% for item in desc %}
                    <th>{{ item[0] }} </th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in expenses %}
                <tr class="table-row">
                    {% for item in row %}
                        <td>{{ item }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>

    {% if error_message %}
        <p style="color: red;">{{ error_message }}</p>
    {% endif %}
    {% if message %}
        <p style="color: green;">{{ message }}</p>
    {% endif %}

    <form method="POST">
        <label for="query"><strong>SQLã‚¯ã‚¨ãƒª:</strong></label><br>
        <textarea name="query" rows="5" cols="80" required>{{ query if query }}</textarea><br><br>
        <button type="submit" class="btn btn-primary">ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œ</button>
        <button type="reset" class="btn btn-primary"></button>
    </form>

    {% if query %}
        <h2>å®Ÿè¡Œã‚¯ã‚¨ãƒª</h2>
        <pre><code>{{ query }}</code></pre>
    {% endif %}

    {% if query_result %}
        <h2>æ›´æ–°å¾Œã®productsãƒ†ãƒ¼ãƒ–ãƒ«</h2>
        <table class="table-bordered">
            <thead>
                <tr class="table-header">
                    {% for col in products_desc %}
                        <th>{{ col[0] }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in query_result %}
                    <tr class="table-row">
                        {% for item in row %}
                            <td>{{ item }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    <div class="nav-buttons">
        <a href="/basic/update/all-records/example" class="prev">â—€ å‰ã¸</a>
        <a href="/basic/update/calc/example" class="next">æ¬¡ã¸ â–¶</a>
    </div>
</div>

{% endblock %}
